extends ../../includes/backend
block otherStyle
  style.
    .default {
      margin-top:100px;
    }
    #inputSummary {
      resize:none;
    }
block content
  .container.default
    .row
     .form-group
        h1.col-sm-2 电影录入
    hr
    .row
      form.form-horizontal(method="post", action="/savemovie")
        .form-group
            label.col-sm-2.control-label(for="inputDoubanId") 豆瓣电影ID
            .col-sm-10
              input#inputDoubanId.form-control(type="text", name="inputDoubanId")
        if movie._id
          input(type="hidden", name="movie[_id]", value=movie._id)
        //- 隐藏表单域，用来更新电影数据，存储电影ID
        .form-group
          label.col-sm-2.control-label 电影分类
          .col-sm-10
            each cat in categories
              label.radio-inline
                if movie.category
                  input(type="radio", name="movie[category]", value=cat._id, checked=cat._id.toString()==movie.category.toString())
                else
                  input(type="radio", name="movie[category]", value=cat._id)
                | #{cat.name}
        .form-group
          label.col-sm-2.control-label(for="inputTitle") 电影名称
          .col-sm-10
            input#inputTitle.form-control(type="text", name="movie[title]", value=movie.title)
        .form-group
          label.col-sm-2.control-label(for="inputAka") 又名
          .col-sm-10
            input#inputAka.form-control(type="text", name="movie[aka]", value=movie.aka)
        .form-group
          label.col-sm-2.control-label(for="inputDoctor") 电影导演
          .col-sm-10
            input#inputDoctor.form-control(type="text", name="movie[doctor]", value=movie.doctor)
        .form-group
          label.col-sm-2.control-label(for="inputCasts") 主演
          .col-sm-10
            input#inputCasts.form-control(type="text", name="movie[casts]", value=movie.casts)
        .form-group
          label.col-sm-2.control-label(for="inputGenres") 电影类型
          .col-sm-10
            input#inputGenres.form-control(type="text", name="movie[genres]", value=movie.genres)
        .form-group
          label.col-sm-2.control-label(for="inputPv") 访问量
          .col-sm-10
            input#inputPv.form-control(type="text", name="movie[pv]", value=movie.pv)
        .form-group
          label.col-sm-2.control-label(for="inputCountry") 国家
          .col-sm-10
            input#inputCountry.form-control(type="text", name="movie[country]", value=movie.country)
        .form-group
          label.col-sm-2.control-label(for="inputLanguage") 语种
          .col-sm-10
            input#inputLanguage.form-control(type="text", name="movie[language]", value=movie.language)
        .form-group
          label.col-sm-2.control-label(for="inputPoster") 海报地址
          .col-sm-10
            input#inputPoster.form-control(type="text", name="movie[poster]", value=movie.poster)
        .form-group
          label.col-sm-2.control-label(for="inputFlash") 片源地址
          .col-sm-10
            input#inputFlash.form-control(type="text", name="movie[flash]", value=movie.flash)
        .form-group
          label.col-sm-2.control-label(for="inputYear") 上映年代
          .col-sm-10
            input#inputYear.form-control(type="text", name="movie[year]", value=movie.year)
        .form-group
          label.col-sm-2.control-label(for="inputSource") 豆瓣评分
          .col-sm-10
            input#inputSource.form-control(type="text", name="movie[score]", value=movie.score)
        .form-group
          label.col-sm-2.control-label(for="inputStarScore") 豆瓣星级
          .col-sm-10
            input#inputStarScore.form-control(type="text", name="movie[starScore]", value=movie.starScore)

        .form-group
          label.col-sm-2.control-label(for="inputStars5") 五星人数
          .col-sm-10
            input#inputStars5.form-control(type="text", name="movie[stars5]", value=movie.stars5)
        .form-group
          label.col-sm-2.control-label(for="inputStars4") 四星人数
          .col-sm-10
            input#inputStars4.form-control(type="text", name="movie[stars4]", value=movie.stars4)
        .form-group
          label.col-sm-2.control-label(for="inputStars3") 三星人数
          .col-sm-10
            input#inputStars3.form-control(type="text", name="movie[stars3]", value=movie.stars3)
        .form-group
          label.col-sm-2.control-label(for="inputStars2") 二星人数
          .col-sm-10
            input#inputStars2.form-control(type="text", name="movie[stars2]", value=movie.stars2)
        .form-group
          label.col-sm-2.control-label(for="inputStars1") 一星人数
          .col-sm-10
            input#inputStars1.form-control(type="text", name="movie[stars1]", value=movie.stars1)

        .form-group
          label.col-sm-2.control-label(for="inputSummary") 电影简介
          .col-sm-10
            textarea#inputSummary.form-control(type="text", name="movie[summary]", rows=8, value=movie.summary)
        .form-group
          .col-sm-10
          button.btn.btn-default(type="submit") 录入
  script(src="/js/public.js")